<!DOCTYPE html>
<html lang="en"> 
  <head>
    <link rel="shortcut icon" href="">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\"/>
    <title>FreeTouchDeck Configurator</title>
    <style>
      div,input{padding:5px;font-size:1em;}
      input{width:96%; border-radius:0.3rem;}
      body{text-align: center;font-family:verdana;}
      button{border:0;border-radius:0.3rem;background-color:#1fa3ec;color:#fff;line-height:2.4rem;font-size:1.2rem;width:100%;}
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
  
  </head>
  <body>
    <div style="background-color: #ffffff; font-family: Arial, Helvetica, Sans-Serif; Color: #000088;"><h1>FreeTouchDeck Configurator</h1></div>
    <div style="text-align:left;display:inline-block;min-width:260px;">
      <form method='post' action='/saveconfig.htm'>

      Menu Button Colour: 
      <br/><input id='menubuttoncolor' name='menubuttoncolor' length='' placeholder='' value=''>
      Function Button Colour:
      <br/><input id='functionbuttoncolor' name='functionbuttoncolor' length='' placeholder='' value=''>
      Logo Colour:
      <br/><input id='logocolor' name='logocolor' length='' placeholder='' value=''>
      Background Colour:
      <br/><input id='background' name='background' length='' placeholder='' value=''>
      <br/><br/><button type='save'>Save configuration</button>
      
      </form>
      <script>

        fetch('generalconfig.json')
        .then((response) => {
          return response.json()
        })
        .then((data) => {
          document.getElementById("menubuttoncolor").value = data.menubuttoncolor;
          document.getElementById("functionbuttoncolor").value = data.functionbuttoncolor;
          document.getElementById("logocolor").value = data.logocolor;
          document.getElementById("background").value = data.background;
        })
        .catch((err) => {
        // No error handling for now
        })
  
      </script>
    </div>
  </body>
</html>