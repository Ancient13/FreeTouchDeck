<!DOCTYPE html>
<html lang="en"> 
  <head>
    <link rel="shortcut icon" href="">
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
    <meta content="utf-8" http-equiv="encoding">
    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, user-scalable=no\"/>
    <title>FreeTouchDeck Configurator</title>
    <style>
      div,input{padding:5px;font-size:1em;font-family:verdana;color:#000088;}
      input{width:96%; border-radius:0.3rem;font-family:verdana;color:#000088;}
      body{text-align: center;font-family:verdana;color:#000088;}
      button{border:0;border-radius:0.3rem;background-color:#1fa3ec;color:#fff;line-height:2.4rem;font-size:1.2rem;width:100%;}
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script> 
    
  </head>
  <body>
    <div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
      <h1>FreeTouchDeck Configurator</h1></div>

      <form method='post' action='/saveconfig.htm'>

        <div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
      <h2>General Configuration</h2></div>

      <div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
        &nbsp;&nbsp;Menu Button Colour:&nbsp;
        <input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='menubuttoncolor' name='menubuttoncolor' type="color" value=''>
        &nbsp;&nbsp;Function Button Colour:&nbsp;
        <input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='functionbuttoncolor' name='functionbuttoncolor' type="color" value=''>
        &nbsp;&nbsp;Font Colour:&nbsp;
        <input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='logocolor' name='logocolor' type="color" value=''>
        &nbsp;&nbsp;Background Colour:&nbsp;
        <input style='width: 100px; height: 30px; padding:1px; border-radius:0.3rem;' id='background' name='background' type="color" value=''></div>


<center>
<br/>
<div style="font-family: Arial, Helvetica, Sans-Serif; Color: #000088;">
      <h2>Button Configuration</h2></div>



<table style="height: 306px; width: 95%">
<tbody>

<tr>
<td style="width: 33%;">
&nbsp;
</td>
<td style="width: 33%;"><center><b>Home screen buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen0image0' name='screen0image0'>
  </select>
        <div><img id='screen0showlogo0' src="" /></div></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen0image1' name='screen0image1'>
  </select>
  <div><img id='screen0showlogo1' src=""/></div></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen0image2' name='screen0image2'>
  </select>
<div><img id='screen0showlogo2' src="" /></div></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen0image3' name='screen0image3'>
  </select>
<div><img id='screen0showlogo3' src="" /></div></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen0image4' name='screen0image4'>
  </select>
<div><img id='screen0showlogo4' src="" /></div></td>
<td style="width: 33%;">Button 5 image:
      <br/><select class="images" id='screen0image5' name='screen0image5'>
  </select>
<div><img id='screen0showlogo5' src="" /></div></td>
</tr>
</tbody>
</table>
</td>
<td style="width: 33%;">
&nbsp;
</td>
</tr>


<tr>
<td style="width: 33%;"><center><b>Menu 1 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen1image0' name='screen1image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen1image1' name='screen1image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen1image2' name='screen1image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen1image3' name='screen1image3'>
  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen1image4' name='screen1image4'>
  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen1image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
<td style="width: 33%;"><center><b>Menu 2 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen2image0' name='screen2image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen2image1' name='screen2image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen2image2' name='screen2image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen2image3' name='screen2image3'>
  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen2image4' name='screen2image4'>
  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen2image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
<td style="width: 33%;"><center><b>Menu 3 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen3image0' name='screen3image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen3image1' name='screen3image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen3image2' name='screen3image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen3image3' name='screen3image3'>
  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen3image4' name='screen3image4'>
  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen3image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr>
<td style="width: 33%;"><center><b>Menu 4 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen4image0' name='screen4image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen4image1' name='screen4image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen4image2' name='screen4image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen4image3' name='screen4image3'>
  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen4image4' name='screen4image4'>
  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen4image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
<td style="width: 33%;"><center><b>Menu 5 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen5image0' name='screen5image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen5image1' name='screen5image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen5image2' name='screen5image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen5image3' name='screen5image3'>
  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen5image4' name='screen5image4'>
  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen5image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
<td style="width: 33%;"><center><b>Menu 6 buttons:</b></center>
<table style="height: 170px; width: 100%; border: 1px solid #000088; text-align: center;">
<tbody>
<tr>
<td style="width: 33%;">Button 0 image:
      <br/><select class="images" id='screen6image0' name='screen6image0'>
  </select></td>
<td style="width: 33%;">Button 1 image:
      <br/><select class="images" id='screen6image1' name='screen6image1'>
  </select></td>
<td style="width: 33%;">Button 2 image:
      <br/><select class="images" id='screen6image2' name='screen6image2'>
  </select></td>
</tr>
<tr>
<td style="width: 33%;">Button 3 image:
      <br/><select class="images" id='screen6image3' name='screen6image3'>

  </select></td>
<td style="width: 33%;">Button 4 image:
      <br/><select class="images" id='screen6image4' name='screen6image4'>

  </select></td>
<td style="width: 33%;">Button 5 image:
      <br/><select id='screen6image5' name='homeimage'>
    <option value="home.bmp" selected>home.bmp</option>
  </select></td>
</tr>
</tbody>
</table>
</td>
</tr>

</tbody>
</table>   
</td>
</tr>
</tbody>
</table>

<table style="width: 60%;">
<tr>
  <td style="width: 95%;">
<br/><button style='cursor: pointer;' type='save'>Save configuration</button>
   </td>
   </tr>
</table>
</form>

</center>
<p>&nbsp;</p>


      <script>

        var logolist = [];

        var selects = document.getElementsByClassName('images');

        fetch('generalconfig.json')
        .then((response) => {
          return response.json()
        })
        .then((data) => {
        document.getElementById("menubuttoncolor").value = data.menubuttoncolor;
        document.getElementById("functionbuttoncolor").value = data.functionbuttoncolor;
        document.getElementById("logocolor").value = data.logocolor;
        document.getElementById("background").value = data.background;

        document.getElementById("screen0image0").add(new Option(data.screen0.logo0));
        //document.getElementById("screen0showlogo0").src = "./logos/" + data.screen0.logo0; 
        document.getElementById("screen0image1").add(new Option(data.screen0.logo1));
        //document.getElementById("screen0showlogo1").src = "./logos/" + data.screen0.logo1; 
        document.getElementById("screen0image2").add(new Option(data.screen0.logo2));
        //document.getElementById("screen0showlogo2").src = "./logos/" + data.screen0.logo2; 
        document.getElementById("screen0image3").add(new Option(data.screen0.logo3));
        //document.getElementById("screen0showlogo3").src = "./logos/" + data.screen0.logo3; 
        document.getElementById("screen0image4").add(new Option(data.screen0.logo4));
        //document.getElementById("screen0showlogo4").src = "./logos/" + data.screen0.logo4; 
        document.getElementById("screen0image5").add(new Option(data.screen0.logo5));
        //document.getElementById("screen0showlogo5").src = "./logos/" + data.screen0.logo5; 

        document.getElementById("screen1image0").add(new Option(data.screen1.logo0));
        document.getElementById("screen1image1").add(new Option(data.screen1.logo1));
        document.getElementById("screen1image2").add(new Option(data.screen1.logo2));
        document.getElementById("screen1image3").add(new Option(data.screen1.logo3));
        document.getElementById("screen1image4").add(new Option(data.screen1.logo4));

        document.getElementById("screen2image0").add(new Option(data.screen2.logo0));
        document.getElementById("screen2image1").add(new Option(data.screen2.logo1));
        document.getElementById("screen2image2").add(new Option(data.screen2.logo2));
        document.getElementById("screen2image3").add(new Option(data.screen2.logo3));
        document.getElementById("screen2image4").add(new Option(data.screen2.logo4));

        document.getElementById("screen3image0").add(new Option(data.screen3.logo0));
        document.getElementById("screen3image1").add(new Option(data.screen3.logo1));
        document.getElementById("screen3image2").add(new Option(data.screen3.logo2));
        document.getElementById("screen3image3").add(new Option(data.screen3.logo3));
        document.getElementById("screen3image4").add(new Option(data.screen3.logo4));

        document.getElementById("screen4image0").add(new Option(data.screen4.logo0));
        document.getElementById("screen4image1").add(new Option(data.screen4.logo1));
        document.getElementById("screen4image2").add(new Option(data.screen4.logo2));
        document.getElementById("screen4image3").add(new Option(data.screen4.logo3));
        document.getElementById("screen4image4").add(new Option(data.screen4.logo4));

        document.getElementById("screen5image0").add(new Option(data.screen5.logo0));
        document.getElementById("screen5image1").add(new Option(data.screen5.logo1));
        document.getElementById("screen5image2").add(new Option(data.screen5.logo2));
        document.getElementById("screen5image3").add(new Option(data.screen5.logo3));
        document.getElementById("screen5image4").add(new Option(data.screen5.logo4));

        document.getElementById("screen6image0").add(new Option(data.screen6.logo0));
        document.getElementById("screen6image1").add(new Option(data.screen6.logo1));
        document.getElementById("screen6image2").add(new Option(data.screen6.logo2));
        document.getElementById("screen6image3").add(new Option(data.screen6.logo3));
        document.getElementById("screen6image4").add(new Option(data.screen6.logo4));
        })
        .then((data) => {
            // THEN 3
            fetch('http://freetouchdeck.local/list?dir=/logos')
          .then((response2) => {
            return response2.json()
          })
          .then((data2) => {
          data2.forEach(obj => {
          Object.entries(obj).forEach(([key, value]) => {
              logolist.push(`${value}`);
              var i = selects.length;
              while (i--) {
                var select = selects[i];
                  select.add(new Option(`${value}`, `${value}`));
              }

              console.log("Index: " + `${key}` + "Value: " + `${value}`);

              

          });
          });

          //document.getElementById("screen0image0").options[2].selected=true;

          })
          .catch((err) => {
          // No error handling for now
          })


        })
        .catch((err) => {
        // No error handling for now
        })

        //console.log(selects);

        function changelogopreview(selectObject, imagedivid) {
          var value = selectObject.value;  
          console.log(value);
        }
        

      </script>
    </div>
  </body>
</html>